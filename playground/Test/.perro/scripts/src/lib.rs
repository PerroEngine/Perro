// AUTO-GENERATED by perro_compiler. Do not edit by hand.

use perro_runtime::Runtime;
use perro_scripting::ScriptConstructor;

#[path = "scripts/script.rs"]
pub mod scripts_script_rs;

pub static SCRIPT_REGISTRY: &[(&str, ScriptConstructor<Runtime>)] = &[
    ("res://scripts/script.rs", scripts_script_rs::perro_create_script as ScriptConstructor<Runtime>),
];

#[unsafe(no_mangle)]
pub extern "C" fn perro_script_registry_len() -> usize {
SCRIPT_REGISTRY.len()
}

#[allow(improper_ctypes_definitions)]
#[unsafe(no_mangle)]
pub extern "C" fn perro_script_registry_get(
index: usize,
path_out: *mut *const u8,
len_out: *mut usize,
ctor_out: *mut ScriptConstructor<Runtime>,
) -> bool {
if path_out.is_null() || len_out.is_null() || ctor_out.is_null() {
return false;
}
let Some((path, ctor)) = SCRIPT_REGISTRY.get(index) else {
return false;
};
unsafe {
*path_out = path.as_ptr();
*len_out = path.len();
*ctor_out = *ctor;
}
true
}
